System.register("chunks:///_virtual/CommHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadHelper.ts","./SpriteHelper.ts","./BaseComp.ts","./Globals.ts","./KernelEvent.ts","./EventCenter.ts","./LiveCore.ts","./config_general.ts"],(function(t){var e,i,n,s,o,r,a,c,u,l,h,f;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Sprite},function(t){o=t.default},function(t){r=t.default},function(t){a=t.BaseComp},function(t){c=t.isEmpty},function(t){u=t.default},function(t){l=t.default},function(t){h=t.default},function(t){f=t.config_heads}],execute:function(){var v;i._RF.push({},"89ecf91rPxGibe7YxXqzi2i","CommHead",void 0);var p=n.ccclass;n.property,t("CommHead",p("CommHead")(v=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this)._isLiveing=!1,e._headUrl=void 0,e}e(i,t);var n=i.prototype;return n.onLoad=function(){l.getInstance().listen(u.e_h5_live,this.h5live,this),l.getInstance().listen(u.e_native_live,this.nativeLive,this)},n.On_Destroy=function(){this.stopLive()},n.setHeadUrl=function(t){return this._headUrl=t,this._isLiveing?this:c(t)?(r.setNodeSprite(this.node,f.empty),this):((t+="").startsWith("http")?o.loadWebImg(this.node,t,0):r.setNodeSprite(this.node,f[t]||f.empty),this)},n.startLive=function(){this._isLiveing=!0,h.setLiveSpr(this.node.getComponent(s),this,.1)},n.stopLive=function(){this._isLiveing=!1},n.nativeLive=function(t){},n.h5live=function(t){},i}(a))||v);i._RF.pop()}}}));

System.register("chunks:///_virtual/CommSeatList.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1349aeS9w1Ibpkb4La1C1BX","CommSeatList",void 0);t("CommSeatList",function(){function t(t,e,i){this._mgr=void 0,this._seatCnt=void 0,this._myUid=void 0,this._mgr=t,this._seatCnt=e,this._myUid=i}var e=t.prototype;return e.resetMgr=function(t){this._mgr=t},e.viewIndexByPlayer=function(t){if(null==t)return-1;var e=this._mgr.getPlayer(this._myUid);return null==e?t.SeatId:(t.SeatId-e.SeatId+this._seatCnt)%this._seatCnt},e.viewIndexByUid=function(t){return this.viewIndexByPlayer(this._mgr.getPlayer(t))},e.playerByViewIndex=function(t){if(t<0)return null;var e=this._mgr.getPlayerList();if(e)for(var i in e)if(this.viewIndexByPlayer(e[i])==t)return e[i];return null},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CommSeatRotate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CocosUtil.ts","./EventCenter.ts","./config_general.ts"],(function(t){var n,i,s,o,e,r,a,_,c,h,u;return{setters:[function(t){n=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,o=t._decorator,e=t.v3,r=t.Tween,a=t.tween,_=t.Component},function(t){c=t.default},function(t){h=t.default},function(t){u=t.GeneralEvents}],execute:function(){var f;s._RF.push({},"0f986qtJXZAnrvIre+HwPWT","CommSeatRotate",void 0);var l=o.ccclass;o.property,t("CommSeatRotate",l("CommSeatRotate")(f=function(t){function s(){for(var n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(n=t.call.apply(t,[this].concat(s))||this)._nodeList=[],n._posList=[],n._center=e(0,0,0),n._running=!1,n._act_tag=101,n}n(s,t);var o=s.prototype;return o.setNodeList=function(t){this._nodeList=t;for(var n,s=0,o=0,r=0,a=0,_=i(t);!(n=_()).done;){var c=n.value.position;this._posList.push(e(c.x,c.y)),c.x<s&&(s=c.x),c.y<o&&(o=c.y),c.x>r&&(r=c.x),c.y>a&&(a=c.y)}this._center.x=(s+r)/2,this._center.y=(o+a)/2},o.stopRotate=function(){for(var t=0;t<this._nodeList.length;t++)r.stopAllByTag(this._act_tag,this._nodeList[t]),c.setNodePosition(this._nodeList[t],this._posList[t].x,this._posList[t].y);this._running=!1},o.runRotate=function(t,n){console.log("----rotate seat: ",t,n),this.act_2(t,n)},o.isRunning=function(){return this._running},o.getOffsetIndex=function(t,n){return(t+n+this._nodeList.length)%this._nodeList.length},o.isShunshizhen=function(){return this._nodeList[1].position.x-this._nodeList[0].position.x<0},o.act_2=function(t,n){this._running=!0;var i=n-t;i=this.isShunshizhen()?t-n:n-t;for(var s=0;s<this._nodeList.length;s++)this.nodeAct2(s,i)},o.nodeAct2=function(t,n){var i=this;r.stopAllByTag(this._act_tag,this._nodeList[t]),a(this._nodeList[t]).to(.2,{position:this._posList[this.getOffsetIndex(t,n)]}).call((function(){t==i._nodeList.length-1&&(i._running=!1,h.getInstance().fire(u.comm_seat_rotate_finish)),c.setNodePosition(i._nodeList[t],i._posList[t].x,i._posList[t].y)})).tag(this._act_tag).start()},o.act_1=function(t,n){this._running=!0;for(var i=0;i<this._nodeList.length;i++)this.nodeAct1(i)},o.nodeAct1=function(t){var n=this,i=this._nodeList.length-1;r.stopAllByTag(this._act_tag,this._nodeList[t]),a(this._nodeList[t]).to(.2,{position:this._center}).call((function(){t==i&&h.getInstance().fire(u.comm_seat_rotate_finish)})).to(.2,{position:this._posList[t]}).call((function(){n._running=!1,c.setNodePosition(n._nodeList[t],n._posList[t].x,n._posList[t].y)})).tag(this._act_tag).start()},s}(_))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/config_general.ts",["cc","./config_bundles.ts","./ResInfo.ts"],(function(e){var n,t,s;return{setters:[function(e){n=e.cclegacy},function(e){t=e.BDNames},function(e){s=e.createResInfo}],execute:function(){var r;n._RF.push({},"c52b54ntkhHrbu+g5utr3TR","config_general",void 0),e("GeneralEvents",(function(){})).comm_seat_rotate_finish="comm_seat_rotate_finish";e("config_heads",((r={}).empty=s("textures/person/head_dark",t.general),r[1001]=s("textures/heads/head1001",t.general),r));n._RF.pop()}}}));

System.register("chunks:///_virtual/general",["./CommHead.ts","./CommSeatList.ts","./CommSeatRotate.ts","./UtilBDcomm.ts","./config_general.ts"],(function(){return{setters:[null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/UtilBDcomm.ts",["cc","./CommHead.ts","./CocosUtil.ts"],(function(t){var n,e,o;return{setters:[function(t){n=t.cclegacy},function(t){e=t.CommHead},function(t){o=t.default}],execute:function(){n._RF.push({},"d71f6koqPZBWIhhsVJE6oc5","UtilBDcomm",void 0);t("default",function(){function t(){}return t.setHeadIcon=function(t,n){var c=o.initComponent(t,e);return c.setHeadUrl(n),c},t}());n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/general', 'chunks:///_virtual/general'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});